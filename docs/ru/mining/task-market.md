# Task Market

–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –∑–∞–¥–∞—á –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ GPU-–≤–æ—Ä–∫–µ—Ä–∞—Ö.

## –°—Ç–∞—Ç—É—Å

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (Stage 5)

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- API –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∑–∞–¥–∞—á
- –û–ø–ª–∞—Ç–∞ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ CPC
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏
- –í—ã–ø–ª–∞—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞–º –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

### –†–æ–ª–∏

1. **Customer (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
   - –°–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ API
   - –ü–ª–∞—Ç–∏—Ç CPC –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
   - –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

2. **Worker (–í–æ—Ä–∫–µ—Ä):**
   - –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –æ—Ç PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ GPU
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã

3. **PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä):**
   - –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –º–∞—Ä–∫–µ—Ç–∞
   - –†–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ job'—ã
   - –†–∞–∑–¥–∞—ë—Ç –≤–æ—Ä–∫–µ—Ä–∞–º
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –í—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã

## API (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

**Endpoint:** `POST /tasks`

**Request:**

```json
{
  "challenge_type": "inference",
  "payload": {
    "model_id": "gpt-3.5-turbo",
    "prompt": "Hello, world!",
    "max_tokens": 100
  },
  "reward": "10.0",
  "deadline": 1700000000
}
```

**Response:**

```json
{
  "task_id": "550e8400-e29b-41d4-a716-446655440000",
  "status": "pending",
  "created_at": 1699999999
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏

**Endpoint:** `GET /tasks/{task_id}`

**Response:**

```json
{
  "task_id": "550e8400-e29b-41d4-a716-446655440000",
  "status": "completed",
  "result": {
    "result_hash": "0x1234...",
    "worker_address": "cpc1worker...",
    "completed_at": 1700000100
  }
}
```

### –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á

**Endpoint:** `GET /tasks`

**Query Parameters:**
- `status`: `pending`, `in_progress`, `completed`, `failed`
- `challenge_type`: –¢–∏–ø –∑–∞–¥–∞—á–∏
- `limit`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `offset`: –°–º–µ—â–µ–Ω–∏–µ

**Response:**

```json
{
  "tasks": [
    {
      "task_id": "...",
      "challenge_type": "inference",
      "status": "pending",
      "reward": "10.0"
    }
  ],
  "total": 100,
  "limit": 20,
  "offset": 0
}
```

## –¢–∏–ø—ã –∑–∞–¥–∞—á

### Inference (–í—ã–≤–æ–¥ –º–æ–¥–µ–ª–µ–π)

**–¢–∏–ø:** `challenge_type: "inference"`

**Payload:**

```json
{
  "model_id": "gpt-3.5-turbo",
  "prompt": "Generate a story",
  "max_tokens": 500,
  "temperature": 0.7
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞

### Training (–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π)

**–¢–∏–ø:** `challenge_type: "training"`

**Payload:**

```json
{
  "model_architecture": "resnet50",
  "dataset_url": "https://...",
  "epochs": 10,
  "batch_size": 32
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Fine-tuning –º–æ–¥–µ–ª–µ–π
- –û–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è
- Transfer learning

### Rendering (–†–µ–Ω–¥–µ—Ä–∏–Ω–≥)

**–¢–∏–ø:** `challenge_type: "rendering"`

**Payload:**

```json
{
  "scene_file": "https://...",
  "resolution": "1920x1080",
  "frames": 100
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- 3D —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –ê–Ω–∏–º–∞—Ü–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### Synthetic (–°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ)

**–¢–∏–ø:** `challenge_type: "synthetic"`

**Payload:**

```json
{
  "seed": "0x1234...",
  "matrix_size": 1024,
  "iterations": 100
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç GPU
- –ë–µ–Ω—á–º–∞—Ä–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏

## –§–∏–Ω–∞–Ω—Å—ã

### –û–ø–ª–∞—Ç–∞ –∑–∞–¥–∞—á

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (MVP):**

- –†–∞–±–æ—Ç–∞ "–≤ –∫—Ä–µ–¥–∏—Ç" –∏–ª–∏ —Ä—É—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ –º–∞—Ä–∫–µ—Ç–∞
- –í—ã–ø–ª–∞—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞–º —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–µ `TRANSFER` (–±–∞—Ç—á–∏–Ω–≥)

**–ë—É–¥—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

- –î–µ–ø–æ–∑–∏—Ç—ã –≤ L1 —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –≤–æ—Ä–∫–µ—Ä–∞–º
- –≠—Å–∫—Ä–æ—É –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:**

```
–û–ø–ª–∞—Ç–∞ –∑–∞–¥–∞—á–∏: 100 CPC

60 CPC (60%) ‚Üí –°–ñ–ò–ì–ê–ï–¢–°–Ø (–¥–µ—Ñ–ª—è—Ü–∏—è)
25 CPC (25%) ‚Üí –í–æ—Ä–∫–µ—Ä—É (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é)
10 CPC (10%) ‚Üí –í–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º)
5 CPC (5%)   ‚Üí –ö–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤—É
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å L1

### SUBMIT_RESULT —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

- –í–æ—Ä–∫–µ—Ä –∏–ª–∏ PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `SUBMIT_RESULT` –≤ L1
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –±–ª–æ–∫
- `compute_root` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ë—É–¥—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
- –ë–∞—Ç—á–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ gas
- ZK-proofs –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ API

```python
import requests

# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
response = requests.post("http://task-market:8080/tasks", json={
    "challenge_type": "inference",
    "payload": {
        "model_id": "gpt-3.5-turbo",
        "prompt": "Hello, world!",
        "max_tokens": 100
    },
    "reward": "10.0"
})

task_id = response.json()["task_id"]
print(f"Task created: {task_id}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
status = requests.get(f"http://task-market:8080/tasks/{task_id}")
print(status.json())
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á –≤–æ—Ä–∫–µ—Ä–æ–º

```python
# –í–æ—Ä–∫–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—É
# –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ WebSocket
# –í—ã–ø–æ–ª–Ω—è–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

## Roadmap

### –§–∞–∑–∞ 1 (–¢–µ–∫—É—â–∞—è)

- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `ComputeResult`
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è `SUBMIT_RESULT`
- ‚úÖ `compute_root` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –±–ª–æ–∫–æ–≤

### –§–∞–∑–∞ 2 (–°–ª–µ–¥—É—é—â–∞—è)

- üöß Task Market API
- üöß PoC-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
- üöß WebSocket –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤

### –§–∞–∑–∞ 3 (–ë—É–¥—É—â–µ–µ)

- ‚è≥ ZK-proofs –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã
- ‚è≥ –†–µ–ø—É—Ç–∞—Ü–∏—è –≤–æ—Ä–∫–µ—Ä–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- **[Mining Overview](overview)** ‚Äî –û–±–∑–æ—Ä –º–∞–π–Ω–∏–Ω–≥–∞
- **[Local Worker](local-worker)** ‚Äî –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞
- **[PoC Details](understand/poc)** ‚Äî –î–µ—Ç–∞–ª–∏ Proof-of-Compute

