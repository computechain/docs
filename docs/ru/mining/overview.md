# GPU –í–æ—Ä–∫–µ—Ä—ã / –ú–∞–π–Ω–∏–Ω–≥ ‚Äî –û–±–∑–æ—Ä

GPU –í–æ—Ä–∫–µ—Ä—ã (–º–∞–π–Ω–µ—Ä—ã) –≤—ã–ø–æ–ª–Ω—è—é—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ GPU –∏ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á.

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**Proof-of-Compute** –∑–∞–º–µ–Ω—è–µ—Ç –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π —Ö–µ—à—Ä–µ–π—Ç –ø–æ–ª–µ–∑–Ω—ã–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏:

- –í–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ nonce, –≤–æ—Ä–∫–µ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –±–ª–æ–∫—á–µ–π–Ω
- –í–æ—Ä–∫–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## –†–æ–ª—å –í–æ—Ä–∫–µ—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PoC –í–∞–ª–∏–¥–∞—Ç–æ—Ä—É:**
   - WebSocket –∏–ª–∏ HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

2. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:**
   - –ó–∞–ø—É—Å–∫ —è–¥–µ—Ä CUDA/ROCm –Ω–∞ GPU
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á (—É–º–Ω–æ–∂–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å, –æ–±—É—á–µ–Ω–∏–µ –∏ —Ç.–¥.)

3. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–±—É–¥—É—â–µ–µ: ZK-proof)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ `SUBMIT_RESULT` –≤ L1

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã:**
   - Off-chain (—á–µ—Ä–µ–∑ PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞) –∏–ª–∏
   - On-chain (—á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–≥—Ä–∞–¥ L1)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ComputeResult

### –ü–æ–ª—è

```python
class ComputeResult:
    task_id: str  # UUID –∑–∞–¥–∞—á–∏
    worker_address: str  # –ê–¥—Ä–µ—Å –≤–æ—Ä–∫–µ—Ä–∞ (cpc1...)
    result_hash: str  # –•–µ—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
    proof: Optional[str] = None  # –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ (–±—É–¥—É—â–µ–µ: ZK-proof)
    nonce: Optional[int] = None  # –î–ª—è —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
    signature: Optional[str] = None  # –ü–æ–¥–ø–∏—Å—å –≤–æ—Ä–∫–µ—Ä–∞
```

### –ü—Ä–∏–º–µ—Ä Payload

```json
{
  "task_id": "550e8400-e29b-41d4-a716-446655440000",
  "worker_address": "cpc1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s0t",
  "result_hash": "0x1234567890abcdef...",
  "proof": null,
  "nonce": 12345,
  "signature": "0xabcdef..."
}
```

## –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è SUBMIT_RESULT

### –¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**`TxType.SUBMIT_RESULT`**

**–°—Ç–æ–∏–º–æ—Å—Ç—å –≥–∞–∑–∞:** 80,000 gas

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```python
Transaction(
    tx_type=TxType.SUBMIT_RESULT,
    from_address="cpc1worker...",  # –ê–¥—Ä–µ—Å –≤–æ—Ä–∫–µ—Ä–∞
    to_address=None,
    amount=0,  # –ù–∞–≥—Ä–∞–¥–∞ –ø–æ–∫–∞ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ L1
    fee=gas_limit * gas_price,
    nonce=...,
    gas_price=1000,
    gas_limit=80000,
    payload={
        "task_id": "...",
        "worker_address": "cpc1worker...",
        "result_hash": "0x...",
        "proof": None,
        "nonce": 12345,
        "signature": "..."
    }
)
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∏ L1:**

1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `ComputeResult` –≤–∞–ª–∏–¥–Ω–∞
2. `worker_address` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `tx.from_address`
3. –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ (–±—É–¥—É—â–µ–µ: —á–µ—Ä–µ–∑ ZK-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é)

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º

### compute_root

**–í –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–ª–æ–∫–∞:**

```python
class BlockHeader:
    compute_root: str  # Merkle root –≤—Å–µ—Ö ComputeResult –≤ –±–ª–æ–∫–µ
```

**–í—ã—á–∏—Å–ª–µ–Ω–∏–µ:**

```python
def compute_poc_root(txs: List[Transaction]) -> str:
    leaves = []
    for tx in txs:
        if tx.tx_type == TxType.SUBMIT_RESULT:
            res = ComputeResult(**tx.payload)
            data = res.model_dump_json().encode("utf-8")
            leaves.append(sha256(data))
    
    if not leaves:
        return ""
    
    return compute_merkle_root(leaves).hex()
```

## –¢–∏–ø—ã –∑–∞–¥–∞—á

### –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Stage 4)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –∏ –±–µ–Ω—á–º–∞—Ä–∫ GPU

**–¢–∏–ø:** `challenge_type: "synthetic"`

**–°–≤–æ–π—Å—Ç–≤–∞:**
- –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
- –ë—ã—Å—Ç—Ä–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ —Ö–µ—à–∞ –±–ª–æ–∫–∞

**–ü—Ä–∏–º–µ—Ä:**

```python
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –∏–∑ —Ö–µ—à–∞ –±–ª–æ–∫–∞
block_hash = get_latest_block_hash()
seed = sha256(block_hash + worker_address)
matrix_size = 1024

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
result = matrix_multiplication(seed, matrix_size)
result_hash = sha256(result)
```

### –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–ë—É–¥—É—â–µ–µ)

**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (Stage 5)

**–¢–∏–ø—ã:**
- `inference` ‚Äî –∏–Ω—Ñ–µ—Ä–µ–Ω—Å ML –º–æ–¥–µ–ª–µ–π
- `training` ‚Äî –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
- `rendering` ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≥—Ä–∞—Ñ–∏–∫–∏
- `simulation` ‚Äî –Ω–∞—É—á–Ω—ã–µ —Å–∏–º—É–ª—è—Ü–∏–∏

**–°–≤–æ–π—Å—Ç–≤–∞:**
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Task Market
- –û–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ ZK-proofs –∏–ª–∏ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## –ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Stage 4)

**–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø–æ—Ç–æ–∫:**

1. –í–æ—Ä–∫–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É –∏–∑ —Ö–µ—à–∞ –±–ª–æ–∫–∞ (—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è)
2. –í–æ—Ä–∫–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ (CPU/GPU mock)
3. –í–æ—Ä–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é `SUBMIT_RESULT` –≤ L1
4. L1 –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤ –±–ª–æ–∫
5. `compute_root` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–ª–æ–∫–∞

### –ë—É–¥—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Stage 5)

**–ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–º:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ Task Market API
2. PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞—á—É –∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –Ω–∞ –∑–∞–¥–∞–Ω–∏—è
3. PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–¥–∞–Ω–∏—è –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ WebSocket
4. –í–æ—Ä–∫–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –Ω–∞ GPU
5. –í–æ—Ä–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –æ–±—Ä–∞—Ç–Ω–æ
6. PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤—ã–±–æ—Ä–æ—á–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
7. PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –∏–ª–∏ –í–æ—Ä–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `SUBMIT_RESULT` –≤ L1
8. L1 –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –±–ª–æ–∫
9. –í–æ—Ä–∫–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—É (off-chain –∏–ª–∏ —á–µ—Ä–µ–∑ L1 reward)

## –ù–∞–≥—Ä–∞–¥—ã

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–°—Ç–∞—Ç—É—Å:** Off-chain (–≤ PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–µ) –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π –±–æ–Ω—É—Å –≤ `_distribute_rewards`

–ù–∞–≥—Ä–∞–¥—ã –µ—â—ë –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ L1 –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.

### –ë—É–¥—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å L1:**

- –ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ `SUBMIT_RESULT`
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `_distribute_rewards`
- –†–µ–π—Ç–∏–Ω–≥ –≤–æ—Ä–∫–µ—Ä–∞ –≤ —Å—Ç–µ–π—Ç–µ (off-chain –∏–ª–∏ on-chain)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –í–æ—Ä–∫–µ—Ä—É

### –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

- **GPU:** RTX 4090/5090 –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ CUDA/ROCm)
- **CPU:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á
- **RAM:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
- **Storage:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–¥–ª—è –∫–æ–¥–∞ –∏ –¥–∞–Ω–Ω—ã—Ö)

### –ü–û

- **Python 3.12+**
- **CUDA Toolkit** –∏–ª–∏ **ROCm** (–¥–ª—è GPU –≤—ã—á–∏—Å–ª–µ–Ω–∏–π)
- **L1 –Ω–æ–¥–∞** (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- **PoC –∫–ª–∏–µ–Ω—Ç** (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—É)

### –°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –î–æ—Å—Ç—É–ø –∫ L1 –Ω–æ–¥–µ (–ª–æ–∫–∞–ª—å–Ω–æ–π –∏–ª–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–π)
- –î–æ—Å—Ç—É–ø –∫ PoC –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—É (WebSocket/HTTP)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- **[–õ–æ–∫–∞–ª—å–Ω—ã–π –í–æ—Ä–∫–µ—Ä](local-worker.md)** ‚Äî –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞
- **[–ú–∞—Ä–∫–µ—Ç –ó–∞–¥–∞—á](task-market.md)** ‚Äî –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á
- **[–î–µ—Ç–∞–ª–∏ PoC](../understand/poc.md)** ‚Äî –î–µ—Ç–∞–ª–∏ Proof-of-Compute

