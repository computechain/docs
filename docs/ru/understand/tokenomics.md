# Токеномика

## Токен CPC

**Название:** ComputeChain  
**Тикер:** CPC  
**Decimals:** 18  
**Минимальная единица:** 1 wei = 10^-18 CPC

## Эмиссия

### Распределение Genesis

**Devnet:**
- Genesis premine: 1,000,000,000 CPC (для тестирования)
- Ключ Faucet: Детерминированный ключ для раздачи токенов

**Testnet / Mainnet:**
- Genesis premine: Настраивается в параметрах сети
- Распределение через fair launch или пресейл

### Награды за блок

**Формула:**

```python
def calculate_block_reward(height: int) -> int:
    initial_reward = 10 * 10**18  # 10 CPC
    halvings = height // 1_000_000
    reward = initial_reward >> halvings
    return reward
```

**Халвинг:**
- Каждые 1,000,000 блоков
- Начальная награда: 10 CPC
- После первого халвинга: 5 CPC
- После второго халвинга: 2.5 CPC
- И так далее...

### Распределение наград

**Награда за блок + Комиссии за транзакции:**

```
Total Reward = Block Reward + Fees Total

Block Reward: 10 CPC (начальная)
Fees Total: сумма всех комиссий в блоке
```

**Получатель:** Валидатор, создавший блок

**Адрес для наград:**
- Используется `reward_address` валидатора
- Если не указан, вычисляется из `pq_pub_key` валидатора
- Fallback: валидатор не получает награду (логгируется предупреждение)

## Газ и Комиссии

### Стоимость газа

**Базовая стоимость газа:**

| Тип транзакции | Стоимость газа |
|-----------------|----------|
| TRANSFER | 21,000 |
| STAKE | 40,000 |
| SUBMIT_RESULT | 80,000 |

### Цена газа (Gas Price)

**Минимальная цена газа:**
- Devnet: 1,000 wei
- Testnet: 5,000 wei
- Mainnet: 1,000,000,000 wei (1 Gwei)

**Расчет комиссии:**

```
fee = gas_used * gas_price
```

**Пример:**

```python
# Транзакция перевода
gas_used = 21_000
gas_price = 1_000
fee = 21_000 * 1_000 = 21_000_000 wei = 0.000021 CPC
```

### Лимит газа на блок

**Лимиты:**

- Devnet: 10,000,000 gas
- Testnet: 15,000,000 gas
- Mainnet: 30,000,000 gas

**Максимум транзакций в блоке:**

- Devnet: 100 транзакций (при среднем газе ~100,000)
- Testnet: 1,000 транзакций
- Mainnet: 5,000 транзакций

## Стейкинг

### Минимальный стейк

**Требования к валидаторам:**

- Devnet: 1,000 CPC
- Testnet: 100,000 CPC
- Mainnet: 100,000 CPC

### Максимум валидаторов

- Devnet: 5 валидаторов
- Testnet: 21 валидатор
- Mainnet: 100 валидаторов

### Эпоха

**Длительность эпохи:**

- Devnet: 10 блоков (~100 секунд)
- Testnet: 100 блоков (~50 минут)
- Mainnet: 72 блока (~72 минуты)

**Что происходит в эпоху:**

1. Пересчет набора валидаторов
2. Сортировка по стейку (по убыванию)
3. Выбор топ-N валидаторов (N = max_validators)
4. Активация/деактивация валидаторов

## Экономические стимулы

### Для Валидаторов

**Доход:**
- Награды за блоки (10 CPC начальная)
- Комиссии за транзакции (комиссии со всех транзакций в блоке)
- Частота создания блоков зависит от позиции в Round-Robin

**Расходы:**
- Газ за транзакции стейкинга
- Инфраструктура (сервер, интернет)

**Риски:**
- Слэшинг (в будущем) за некорректное поведение
- Деактивация при недостаточном стейке

### Для Воркеров (GPU Workers)

**Текущая реализация:**
- Награды off-chain (через PoC валидатора)
- Или через простой бонус в `_distribute_rewards`

**Будущая реализация:**
- Награды за транзакции `SUBMIT_RESULT`
- Распределение через Task Market
- Рейтинг и репутация воркера

**Расходы:**
- Газ за транзакции `SUBMIT_RESULT` (80,000 gas)
- Электричество для GPU
- Инфраструктура (L1 нода, подключение к PoC валидатору)

### Для Пользователей

**Расходы:**
- Оплата задач через Task Market
- Газ за транзакции (если отправляют напрямую)

**Преимущества:**
- Доступ к распределенным ресурсам GPU
- Децентрализованное выполнение вычислений

## Дефляционные механизмы

### Сжигание (Future)

**Планируется:**
- Часть комиссий сжигается
- Часть оплаты за задачи сжигается
- Эффективное предложение уменьшается со временем

**Текущая реализация:**
- Сжигание не реализовано
- Все комиссии идут валидаторам

## Инфляция

### Текущая модель

**Инфляция эмиссии:**

```
Годовая эмиссия ≈ (Награда за блок * Блоков в год) / Общее предложение

Пример (начальный):
Block Reward = 10 CPC
Block Time = 10 sec (devnet)
Блоков в год ≈ 3,153,600
Годовая эмиссия ≈ 31,536,000 CPC
```

**Халвинг снижает инфляцию:**
- После первого халвинга: ~15,768,000 CPC/год
- После второго халвинга: ~7,884,000 CPC/год
- И так далее...

### Дефляционное давление

**Будущие механизмы:**
- Сжигание комиссий
- Сжигание оплаты за задачи
- Стейкинг (блокировка токенов)

## Следующие шаги

- **[Руководство по стейкингу](../staking/staking-basic.md)** — Как застейкать
- **[Награды](../staking/rewards.md)** — Детали наград
- **[Жизненный цикл валидатора](../staking/validator-lifecycle.md)** — Жизненный цикл валидатора

